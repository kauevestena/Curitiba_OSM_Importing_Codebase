# Curitiba_OSM_Importing_Codebase

This repository contains the code for importing data from the "Geocuritiba" Portal to OpenStreetMap.

## About the Project

This project provides a set of Python scripts to extract data from the Geocuritiba portal, which is an initiative of the "Instituto de Pesquisa e Planejamento Urbano de Curitiba" (IPPUC). The scripts are designed to handle the specific data formats and structures used by the portal, and to convert them into a format that can be easily imported into OpenStreetMap.

The main features of this codebase include:

*   **Data Extraction**: Scripts to dump data from Esri-based map servers.
*   **Data Conversion**: Conversion of the extracted data into standard formats like GeoJSON and GeoParquet.
*   **Resilient Downloading**: The `geojsonl_lazy_dumper` function is designed to be resilient, with retry mechanisms and the ability to resume downloads.

## Getting Started

To get a local copy up and running, follow these simple steps.

### Prerequisites

*   Python 3.x
*   Virtualenv

### Installation

1.  **Clone the repo**
    ```sh
    git clone https://github.com/your_username_/Curitiba_OSM_Importing_Codebase.git
    ```
2.  **Create and activate a virtual environment**
    ```sh
    python -m venv venv
    source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
    ```
3.  **Install Python packages**
    ```sh
    pip install -r requirements.txt
    ```

## Usage

The `scripts` folder contains several scripts to perform different tasks. For example, to dump building data, you can run:

```sh
python scripts/lazy_dumper_buildings.py
```

This will download the building data and save it in the `outputs/buildings` directory.

## Project Structure

Here is a brief overview of the project's structure:

```
.
├── LICENSE
├── README.md
├── constants.py
├── lib.py
├── requirements.txt
├── scripts/
│   ├── check_buildings.py
│   ├── importer.py
│   ├── lazy_dumper_buildings.py
│   └── ...
└── outputs/
```

*   `constants.py`: Contains constants used throughout the project, such as map server URLs and layer IDs.
*   `lib.py`: A library of core functions for interacting with the Geocuritiba portal, including data dumping and file I/O.
*   `requirements.txt`: A list of the Python dependencies required for this project.
*   `scripts/`: Contains various scripts for performing specific tasks, such as dumping data for different layers (e.g., buildings, streets).
*   `outputs/`: The default directory where the downloaded data is stored.
*   `logs/`: Contains log files generated by the scripts.
*   `tests/`: Contains tests for the project.